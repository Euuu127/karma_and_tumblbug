<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.karma_and_tumblbug.p1.rescue.rescueDAO">
	<select id="getList" parameterType="RescueDTO" resultType="RescueDTO">
       select * from rescue 
       where
       
       <trim suffix="and  ">
       <foreach collection="map" index="key" item="val" separator="and">
        	<if test="key == 'S'.toString()">
        	   species like #{val}
        	</if>
        	<if test="key == 'K'.toString()">
        	   kind like #{val}
        	</if>
        	<if test="key == 'P'.toString()">
        	   locationP like #{val}
        	</if>
        	<if test="key == 'C'.toString()">
        	   locationC like #{val}
        	</if>
        	<if test="key == 'N'.toString()">
        	   sn like #{val}
        	</if>
        	<if test="key == 'Z'.toString()">
        	   zoneSn like #{val}
        	</if>
        	<if test="key == 'F'.toString()">
        	   feature like #{val}
        	</if>
       
       </foreach>
       </trim> 
       
       <![CDATA[ rownum <10 ]]>
	</select>
	
	<insert id="setInsert" parameterType="RescueDTO">
		insert into rescue values(#{status}, #{sn}, #{zoneSn}, #{resDate}, #{province}, #{city}, #{location}, 
		#{species}, #{kind}, #{sex}, #{age}, #{color}, #{desex}, #{character}, #{weight}, #{health}, #{feature}, 
		#{adoptDate}, #{returnDate})
	</insert>

</mapper>
